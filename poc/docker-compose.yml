version: '3.8'

services:
  nanomq:
    image: emqx/nanomq:0.18.2-full
    container_name: nanomq-broker
    ports:
      - "1883:1883"   # MQTT port
      - "8083:8083"   # WebSockets
    restart: always
  web-client:
    build:
      context: ./web-client
      dockerfile: Dockerfile
    container_name: web-client
    volumes:
      - ./web-client/:/usr/share/nginx/html
    ports:
      - "80:80"
    restart: always